<div class="govuk-!-margin-bottom-8">
  <h2 class="govuk-heading-l" id="section-what-you-will-study">
    <%= t(".heading") %>
  </h2>

  <%# Render the content based on whether it's a preview or not %>
  <% if preview?(params) %>
    <% if course.theoretical_training_activities.present? || course.assessment_methods.present? %>
      <%# Render the sections normally %>
      <% if course.theoretical_training_activities.present? %>
        <%= markdown(course.theoretical_training_activities) %>
      <% end %>

      <% if course.assessment_methods.present? %>
        <%= markdown(course.assessment_methods) %>
      <% end %>
    <% else %>
      <%# Render missing information component to invite user to complete %>
      <%= render CoursePreview::MissingInformationComponent.new(
            course: course,
            information_type: :what_you_will_study,
            is_preview: true,
          ) %>
    <% end %>
  <% else %>
    <%# Normal rendering for non-preview pages %>
    <% if course.theoretical_training_activities.present? %>
      <%= markdown(course.theoretical_training_activities) %>
    <% end %>

    <% if course.assessment_methods.present? %>
      <%= markdown(course.assessment_methods) %>
    <% end %>
  <% end %>
</div>
