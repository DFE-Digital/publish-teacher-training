<% @filters_view.location_query_params.each do |k, v| %>
  <% if v.present? %>
    <%= form.hidden_field(k, value: v) %>
  <% end %>
<% end %>

<% if params["subjects"].present? %>
  <% if params["subjects"].is_a?(String) %>
    <%= form.hidden_field(:subjects, multiple: true, value: params["subjects"]) %>
  <% else %>
    <% request.params["subjects"].each do |subject_code| %>
      <%= form.hidden_field(:subjects, multiple: true, value: subject_code) %>
    <% end %>
  <% end %>
<% end %>
<!-- NOTE: to preserve old find subject codes -->
<% if params["subject_codes"].present? %>
  <% request.params["subject_codes"].each do |subject_code| %>
    <%= form.hidden_field(:subject_codes, multiple: true, value: subject_code) %>
  <% end %>
<% end %>
