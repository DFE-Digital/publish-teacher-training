<%= render PageTitle::View.new(title: t("support.providers.users.edit")) %>

<% content_for :before_content do %>
  <%= render GovukComponent::BackLinkComponent.new(
    text: t("back"),
    href: support_recruitment_cycle_provider_user_path(@provider.recruitment_cycle_year, @provider, @provider_user),
  ) %>
<% end %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds-from-desktop">
    <%= form_with(model: @user_form, url: support_recruitment_cycle_provider_user_path(@provider.recruitment_cycle_year, @provider), method: :put, local: true) do |f| %>
      <%= f.govuk_error_summary %>

      <fieldset class="govuk-fieldset">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
          <span class="govuk-caption-l"><%= "#{@provider.provider_name} (#{@provider.provider_code})" %></span>
          <h1 class="govuk-fieldset__heading"><%= @provider_user.full_name %></h1>
        </legend>

        <%= f.govuk_text_field :first_name, label: { text: t("support.providers.users.first_name"), size: "s" }, width: 20 %>
        <%= f.govuk_text_field :last_name, label: { text: t("support.providers.users.last_name"), size: "s" }, width: 20 %>
        <%= f.govuk_text_field :email, label: { text: t("support.providers.users.email"), size: "s" } %>

        <%= f.govuk_submit(t("support.providers.users.edit")) %>
      </fieldset>
    <% end %>

    <%= govuk_link_to(t("cancel"), support_recruitment_cycle_provider_user_path(@provider.recruitment_cycle_year, @provider)) %>
  </div>
</div>
