<%= render PageTitle.new(title: "support.providers.show") %>

<%= extends_layout :support do %>
  <%= content_for(:breadcrumbs) do %>
    <%= render GovukComponent::BackLinkComponent.new(
      text: "All provider records",
      href: support_recruitment_cycle_providers_path
    ) %>
  <% end %>

  <div class="govuk-caption-l"><%= Provider.human_attribute_name(@provider.provider_type) %></div>
  <h1 class="govuk-heading-l"><%= @provider.name_and_code %></h1>
  <% accredited_tab = [{ url: "", name: "" }] %>
  <% unless @provider.accredited_provider? %>
    <% if Settings.features.provider_partnerships %>
      <% accredited_tab = [{ name: "Accredited partnerships", url: support_recruitment_cycle_provider_accredited_partners_path(@provider.recruitment_cycle_year, @provider) }] %>
    <% else %>
      <% accredited_tab = [{ name: "Accredited providers", url: support_recruitment_cycle_provider_accredited_providers_path(@provider.recruitment_cycle_year, @provider) }] %>
    <% end %>
  <% end %>
  <%= render TabNavigation.new(items: [
    { name: "Details", url: support_recruitment_cycle_provider_path(@provider.recruitment_cycle_year, @provider) },
    { name: "Users", url: support_recruitment_cycle_provider_users_path(@provider.recruitment_cycle_year, @provider) },
    { name: "Courses", url: support_recruitment_cycle_provider_courses_path(@provider.recruitment_cycle_year, @provider) },
    { name: "Schools", url: support_recruitment_cycle_provider_schools_path(@provider.recruitment_cycle_year, @provider) },
    *accredited_tab
  ]) %>

  <%= yield %>
<% end %>
