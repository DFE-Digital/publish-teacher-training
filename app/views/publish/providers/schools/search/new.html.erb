<% content_for :page_title, title_with_error_prefix(t(".title"), @school_search_form.errors.any?) %>
<% content_for :before_content do %>
  <%= govuk_back_link_to(publish_provider_recruitment_cycle_schools_path) %>
<% end %>
<div class="govuk-grid-row">
  <%= form_with(
    model: @school_search_form,
    url: search_publish_provider_recruitment_cycle_schools_path(@provider.provider_code),
    method: :post,
    local: true,
  ) do |f| %>
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
        <%= f.govuk_error_summary %>
      </div>
    </div>
    <div class="govuk-grid-column-two-thirds">
      <fieldset class="govuk-fieldset">
        <span class="govuk-caption-l"><%= t(".caption") %></span>
        <%= f.govuk_text_field :query,
            value: params[:query],
            label: { text: t(".title"), size: "l" },
            hint: { text: t(".hint") }, link_errors: true,
            form_group: { id: "school-autocomplete" } %>
        <p class="govuk-body govuk-!-margin-bottom-7">
          <%= govuk_details(summary_text: t(".help_finding_school")) do %>
            <%= t(".cannot_find_html", link: t("links.get_information_schools_search")) %>
          <% end %>
        </p>
        <%= f.govuk_submit t("continue") %>
      </fieldset>
    <% end %>
    <p class="govuk-body">
      <%= govuk_link_to(t("cancel"), publish_provider_recruitment_cycle_schools_path) %>
    </p>
  </div>
