<span class="govuk-hint govuk-!-font-size-16" data-qa="course__last_publish_date">
  Last published on <%= l(course.last_published_at.to_datetime, format: :last_event) %>
</span>

<div class="govuk-button-group">
  <% if course.has_unpublished_changes? %>
    <%= govuk_button_to("Publish course", publish_publish_provider_recruitment_cycle_course_path(@provider.provider_code, course.recruitment_cycle_year, course.course_code),
                        class: "govuk-!-margin-right-2",
                        data: { qa: "course__publish" }) %>
  <% end %>

  <% unless course.has_unpublished_changes? %>
    <%= govuk_link_to search_ui_course_page_url(provider_code: course.provider.provider_code, course_code: course.course_code), class: "govuk-!-margin-right-2", data: { qa: "course__is_findable" } do %>
      View on Find <span class="govuk-visually-hidden">postgraduate teacher training</span>
    <% end %>
  <% end %>

  <% unless FeatureService.enabled?(:open_and_closed_course_flow) %>
    <%= govuk_link_to "Change vacancies", vacancies_publish_provider_recruitment_cycle_course_path(course.provider_code, course.recruitment_cycle.year, course.course_code), class: "govuk-!-margin-right-2", data: { qa: "course__has_vacancies" } %>
  <% end %>

  <%= govuk_link_to "Withdraw course", withdraw_publish_provider_recruitment_cycle_course_path(@provider.provider_code, course.recruitment_cycle_year, course.course_code), class: "app-link--destructive govuk-!-margin-right-2", data: { qa: "course__withdraw-link" } %>
</div>
