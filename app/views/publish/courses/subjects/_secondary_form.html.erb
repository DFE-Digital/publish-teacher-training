<%= render "publish/shared/error_wrapper", error_keys: [:subjects], data_qa: "course__subjects" do %>
  <fieldset class="govuk-fieldset">
    <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
      <h1 class="govuk-fieldset__heading" data-qa="page-heading">
        <% if course.course_code %>
          <%= render CaptionText.new(text: course.name_and_code) %>
        <% end %>
        <%= course.subject_page_title %>
      </h1>
    </legend>
    <%= render "publish/shared/error_messages", error_keys: [:subjects] %>
    <p class="govuk-body">For some subjects, candidates may be able to get a bursary or scholarship.</p>
    <p class="govuk-body">If the course content is made up of at least 50% of an eligible subject, add this as the first subject so we can show the correct financial information to candidates</p>
    <p class="govuk-body">
      <%= govuk_link_to "Learn more about the bursaries and scholarships", "https://www.gov.uk/government/publications/funding-initial-teacher-training-itt/funding-initial-teacher-training-itt-academic-year-2023-to-2024#postgraduate-bursaries-and-scholarships" %>
    </p>
    <div class="govuk-form-group">
    <%= form.label :master_subject_id, "First Subject", class: "govuk-label" %>
    <%= form.select :master_subject_id, options_for_select(course.selectable_subjects, course.master_subject_id || course.selected_subject_ids.first), { include_blank: true }, data: { qa: "course__master_subject" }, class: "govuk-select" %>
    </div>

    <div class="govuk-form-group">
      <%= form.label :subordinate_subject_id, "Second subject (optional)", class: "govuk-label" %>
      <%= form.select :subordinate_subject_id, options_for_select(course.selectable_subjects, course.subordinate_subject_id), { include_blank: true }, data: { qa: "course__subordinate_subjects" }, class: "govuk-select" %>
    </div>
  </fieldset>
<% end %>
