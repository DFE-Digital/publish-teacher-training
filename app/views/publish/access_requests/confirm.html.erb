<% content_for :page_title, "Approve access request" %>

<h1 class="govuk-heading-l">Approve new access for <%= @access_request.recipient.full_name %></h1>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <table class="govuk-table">
      <tbody class="govuk-table__body">
        <tr class="govuk-table__row">
          <th class="govuk-table__header" scope="row">Recipient</th>
          <td class="govuk-table__cell "><%= user_details(@access_request.recipient) if @access_request.recipient %></td>
        </tr>
        <tr class="govuk-table__row">
          <th class="govuk-table__header" scope="row">Will receive access to</th>
          <td class="govuk-table__cell "><%= @access_request.requester.providers.map(&:provider_name).join(", ") %></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="govuk-button-group">
  <%= govuk_button_to("Approve", approve_publish_access_request_path(@access_request.id), data: { qa: "access-request__approve" }) %>
  <%= govuk_button_to("Delete",
    publish_access_request_path(@access_request.id),
    method: :delete,
    class: "govuk-button govuk-button--warning",
    data: { qa: "access-request__delete" }) %>
</div>
