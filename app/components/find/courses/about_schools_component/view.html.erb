<div class="govuk-!-margin-bottom-8">
  <h2 class="govuk-heading-l" id="training-locations"><%= t(".heading") %> </h2>

  <!--Content for fee-based courses-->
  <p class="govuk-body">
    Youâ€™ll be placed in schools for most of your course to get classroom experience. You will also spend time at a location where you will study.
  </p>
  <!--Content for salaried courses-->
  <p class="govuk-body">
    You will spend most of your time in one school which will employ you. You will also spend some time in another school and at a location where you will study.
  </p>

  <dl class="govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Placement schools
        </dt>
        <dd class="govuk-summary-list__value">
          <% number_of_sites = course.new_or_running_sites_with_vacancies.uniq.count %>
          <% if @filters_view.location_search? && number_of_sites.positive? %>
                <span class="govuk-body">
                    <strong>
                      <%= "#{pluralize(course.min_site_distance_from(latitude: @filters_view.latitude, longitude: @filters_view.longitude), 'mile')}" %>
                    </strong>
                      from
                    <strong>
                      <%= @filters_view.location_search %>
                    </strong>
                  </span>
            <p class="govuk-hint govuk-!-font-size-16">
              <%= t("find.results.course_placements.nearest_location", count: number_of_sites) %>
            </p>
          <% else %>
            <p class="govuk-body">
              <%= t("find.results.course_placements.all_school_placements", count: number_of_sites) %>
            </p>
          <% end %>

          <p class="govuk-hint govuk-!-font-size-16">
            Locations can change and are not guaranteed.
          </p>
        </dd>
      </div>

      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Where you will study
        </dt>
        <dd class="govuk-summary-list__value">
          <% number_of_study_sites = course.study_sites.count %>
          <% if @filters_view.location_search? && number_of_study_sites.positive? %>
            <span class="govuk-body">
              <strong>
                <%= "#{pluralize(course.min_study_site_distance_from(latitude: @filters_view.latitude, longitude: @filters_view.longitude), 'mile')}" %>
              </strong>
                from
              <strong>
                <%= @filters_view.location_search %>
              </strong>
            </span>
          <% else %>
            <p class="govuk-body">
              <%= t("find.results.course_study_sites.all_study_sites", count: number_of_study_sites) %>
            </p>
          <% end %>

          <p class="govuk-hint govuk-!-font-size-16">
            <% course.study_sites.each do |study_site| %>
              <strong><%= smart_quotes(study_site.location_name) %></strong>
              <br>
              <%= smart_quotes(study_site.decorate.full_address) %>
            <% end %>
          </p>
        </dd>
      </div>
  </dl>

  <div data-qa="course__about_schools">
    <%= render Shared::AdviceComponent::View.new(title: "How school placements work") do %>
      <% if salaried? %>
      <p class="govuk-body">
        You usually cannot choose your employing schools. The training provider will contact you and discuss your situation to help them select a location you can travel to.
      </p>
      <% else %>
      <p class="govuk-body">
        The training provider will select placement schools for you. They will contact you and discuss your situation to help them select a location that you can travel to.
      </p>
      <% end %>
    <% end %>
  </div>

</div>
